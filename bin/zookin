#!/usr/bin/env node
"use strict";
var prgm = require("commander");
var ctt = require("commander-tabtab");
prgm.version("zookin v0.0.2 (aug'16)").usage("[-hV] <command> [-options] [--help]");

prgm.command("vigenere", "\x1b[33mcipher\x1b[0m: vigenere");
prgm.command("rotate", "\x1b[33mcipher\x1b[0m: rotate");
prgm.command("skip", "\x1b[33mcipher\x1b[0m: skip");
prgm.command("score", "view the score of a string of text");
prgm.command("wordtree", "generate a new wordtree based on the dictionary");
prgm.command("bruteforce", "Invoke every implemented \x1b[33mcipher\x1b[0m in bruteforce mode, and collect the results");

prgm.on("--help", function () {
    for (var i = 0; i < prgm.args.length; i++) {
        if ((!/\-/).test(prgm.args[i])) {
            console.error("  \x1b[31mUnknown command: " + prgm.args[i] + "\x1b[0m");
            break;
        }
    }
});
ctt.init(prgm, "zookin");
prgm.parse(process.argv);
if (!prgm.hasOwnProperty("runningCommand")) {
    if (prgm.args[0] !== "completion") {
        prgm.help();
    }
}

if (typeof process.argv[2] === "undefined") {
    prgm.help();
}
